<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Historias – Grupo Lázaro</title>
  <link rel="stylesheet" href="css/styles.css">
</head>

<body>
  <header class="header-fixed">
    <div class="container flex">
      <img src="img/logo.png" alt="Logo Grupo Lázaro" class="logo">
      <nav>
        <ul class="menu flex">
          <li><a href="index.html">Home</a></li>
          <li><a href="noticias.html">Noticias</a></li>
          <li><a href="unirme.html">Unirme</a></li>
          <li><a href="historias.html">Historias</a></li>
          <li><a href="nosotros.html">Nosotros</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Head + title "Historias de Esperanza" -->

  <body>
    <!-- Header común -->

    <main class="container">
      <h1>Muro de Historias de Esperanza</h1>
      <div class="grid-historias">
        <div class="card-historia">
          <p>"Llevo 5 años con EM y hoy soy mamá feliz"</p>
          <small>Anónimo – 2025</small>
        </div>
        <!-- Más cards cuando tengamos historias reales -->
      </div>
    </main>

    <!-- Footer común -->
    <footer class="footer">
      <div class="container">
        <p>Grupo Lázaro © 2025 – No estás solo ❤️</p>
        <p>Contactanos: matii.toorres.06@gmail.com</p>
      </div>
    </footer>
    <script>
      async function loadStories() {
        const res = await fetch('https://lazaro-backend.onrender.com/api/stories');
        const stories = await res.json();

        const list = document.getElementById('stories-list'); // crea <div id="stories-list"></div> en HTML
        list.innerHTML = '';

        stories.forEach(story => {
          const div = document.createElement('div');
          div.className = 'card-historia';
          div.innerHTML = `<p>${story.historia}</p><small>Anónimo – ${story.createdAt.slice(0, 10)}</small>`;
          list.appendChild(div);
        });
      }

      loadStories();
    </script>
  </body>

</html>